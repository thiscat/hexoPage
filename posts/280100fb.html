<!DOCTYPE html>
<html lang="zh-CN" color-mode="light">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="keywords" content="" />
  <meta name="author" content="cat" />
  <meta name="description" content="" />
  
  
  <title>
    
      vim记录 
      
      
      |
    
     thisofcat
  </title>

  
    <link rel="apple-touch-icon" href="/images/logo.png">
    <link rel="icon" href="/images/logo.png">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

  <!-- hexo site css -->
  
<link rel="stylesheet" href="/css/color-scheme.css">
<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="//at.alicdn.com/t/font_1886449_67xjft27j1l.css">
<link rel="stylesheet" href="/css/github-markdown.css">
<link rel="stylesheet" href="/css/highlight.css">
<link rel="stylesheet" href="/css/comments.css">

  <!-- 代码块风格 -->
  
    
<link rel="stylesheet" href="/css/figcaption/mac-block.css">

  

  <!-- jquery3.3.1 -->
  
    <script defer type="text/javascript" src="/plugins/jquery.min.js"></script>
  

  <!-- fancybox -->
  
    <link href="/plugins/jquery.fancybox.min.css" rel="stylesheet">
    <script defer type="text/javascript" src="/plugins/jquery.fancybox.min.js"></script>
  
  
<script src="/js/fancybox.js"></script>


  

  <script>
    var html = document.documentElement
    const colorMode = localStorage.getItem('color-mode')
    if (colorMode) {
      document.documentElement.setAttribute('color-mode', colorMode)
    }
  </script>
<meta name="generator" content="Hexo 5.4.2"></head>


  <body>
    <div id="app">
      <div class="header">
  <div class="avatar">
    <a href="/">
      <!-- 头像取消懒加载，添加no-lazy -->
      
        <img src="/images/logo.png" alt="">
      
    </a>
    <div class="nickname"><a href="/">cat</a></div>
  </div>
  <div class="navbar">
    <ul>
      
        <li class="nav-item" data-path="/">
          <a href="/">Home</a>
        </li>
      
        <li class="nav-item" data-path="/archives/">
          <a href="/archives/">Archives</a>
        </li>
      
        <li class="nav-item" data-path="/categories/">
          <a href="/categories/">Categories</a>
        </li>
      
        <li class="nav-item" data-path="/tags/">
          <a href="/tags/">Tags</a>
        </li>
      
    </ul>
  </div>
</div>


<script src="/js/activeNav.js"></script>



      <div class="flex-container">
        <!-- 文章详情页，展示文章具体内容，url形式：https://yoursite/文章标题/ -->
<!-- 同时为「标签tag」，「朋友friend」，「分类categories」，「关于about」页面的承载页面，具体展示取决于page.type -->


  <!-- LaTex Display -->

  
    <script async type="text/javascript" src="/plugins/mathjax/tex-chtml.js"></script>
  
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    }
  </script>





  <!-- clipboard -->

  
    <script async type="text/javascript" src="/plugins/clipboard.min.js"></script>
  
  
<script src="/js/codeCopy.js"></script>







  

  

  

  
  <!-- 文章内容页 url形式：https://yoursite/文章标题/ -->
  <div class="container post-details" id="post-details">
    <div class="post-content">
      <div class="post-title">vim记录</div>
      <div class="post-attach">
        <span class="post-pubtime">
          <i class="iconfont icon-updatetime" title="更新时间"></i>
          2017-11-07 01:56:27
        </span>
        
              <span class="post-categories">
                <i class="iconfont icon-bookmark" title="分类"></i>
                
                <span class="span--category">
                  <a href="/categories/%E5%90%8E%E7%AB%AF/" title="后端">
                    <b>#</b> 后端
                  </a>
                </span>
                
                <span class="span--category">
                  <a href="/categories/%E5%90%8E%E7%AB%AF/linux/" title="linux">
                    <b>#</b> linux
                  </a>
                </span>
                
                <span class="span--category">
                  <a href="/categories/%E5%90%8E%E7%AB%AF/linux/vim/" title="vim">
                    <b>#</b> vim
                  </a>
                </span>
                
              </span>
          
      </div>
      <div class="markdown-body">
        <h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><h2 id="set命令"><a href="#set命令" class="headerlink" title="set命令"></a>set命令</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">:<span class="built_in">set</span> number <span class="string">&quot; 显示行号</span></span><br><span class="line"><span class="string">:set cursorline &quot;</span> 突显当前行</span><br><span class="line">:<span class="built_in">set</span> ruler <span class="string">&quot; 打开状态栏标尺</span></span><br><span class="line"><span class="string">:set shiftwidth=4 &quot;</span> 设定 &lt;&lt; 和 &gt;&gt; 命令移动时的宽度为 4</span><br><span class="line">:<span class="built_in">set</span> autochdir <span class="string">&quot; 自动切换当前目录为当前文件所在的目录</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> :<span class="built_in">set</span> ignorecase smartcase <span class="string">&quot; 搜索时忽略大小写，但在有一个或以上大写字母时仍保持对大小写敏感</span></span><br><span class="line"><span class="string">:set ic(ignorecase) &quot;</span> 搜索时忽略大小写</span><br><span class="line">:<span class="built_in">set</span> noic(noignorecase) <span class="string">&quot; 搜索大小写严格</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">:set is(incsearch) &quot;</span> 输入搜索内容时就显示搜索结果</span><br><span class="line">:<span class="built_in">set</span> nois(incsearch)</span><br><span class="line"></span><br><span class="line">:<span class="built_in">set</span> hsl(lsearch) <span class="string">&quot; 搜索时高亮显示被找到的文本</span></span><br><span class="line"><span class="string">:set nohsl(hlsearch)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">:set si(smartindent) &quot;</span> 开启新行时使用智能自动缩进</span><br><span class="line">:<span class="built_in">set</span> nosi(smartindent)</span><br><span class="line"></span><br><span class="line">:<span class="built_in">set</span> paste <span class="string">&quot; 粘贴取消格式</span></span><br><span class="line"><span class="string">:set nopaste &quot;</span> 粘贴使用格式</span><br><span class="line">:<span class="built_in">set</span> pastetoggler <span class="string">&quot; 切换格式使用情况</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">:set showcmd &quot;</span> 标尺右侧显示未完成的命令</span><br><span class="line">:<span class="built_in">set</span> noshowcmd</span><br><span class="line"></span><br><span class="line">:<span class="built_in">set</span> autowrite <span class="string">&quot; 自动保存</span></span><br><span class="line"><span class="string">:set noautowrite</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">:set insertmode &quot;</span> 默认insert模式</span><br><span class="line">:<span class="built_in">set</span> <span class="attribute">fileformat</span>=unix <span class="string">&quot; 设置文件格式</span></span><br><span class="line"><span class="string">:set display=truncate &quot;</span> 如果末行被截短，显示 @@@ 而不是隐藏整行</span><br><span class="line">:<span class="built_in">set</span> <span class="attribute">nrformats-</span>=octal <span class="string">&quot; 不把零开头的数值识别为八进制数。</span></span><br><span class="line"><span class="string">:set backup &quot;</span> 设置备份文件</span><br><span class="line">:<span class="built_in">set</span> <span class="attribute">textwidth</span>=72 <span class="string">&quot; 每行72字符，自动换行</span></span><br><span class="line"><span class="string">你键入一个右括号 ) 时，如果能知道它匹配哪个左括号 ( 会很方便。要让 Vim 做到这</span></span><br><span class="line"><span class="string">点，用下面这个命令: </span></span><br><span class="line"><span class="string">:set showmatch</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> 显 示 TAB 键</span><br><span class="line"><span class="string">&quot; 文件中有 TAB 键的时候，你是看不见的。要把它显示出来:</span></span><br><span class="line"><span class="string">:set list</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> 现在 TAB 键显示为 ^I，而 $显示在每行的结尾，以便你能找到可能会被你忽略的空白字符在哪里。</span><br><span class="line"><span class="string">&quot; 这样做的一个缺点是在有很多 TAB 的时候看起来很丑。如果你使用一个有颜色的终端，</span></span><br><span class="line"><span class="string">&quot;</span> 或者使用 GUI 模式，Vim 可以用高亮显示空格和 TAB。使用 <span class="string">&#x27;listchars&#x27;</span> 选项:</span><br><span class="line">:<span class="built_in">set</span> <span class="attribute">listchars</span>=tab:&gt;-,trail:-</span><br><span class="line"><span class="string">&quot; TAB 会被显示成 &quot;</span>&gt;---<span class="string">&quot; (&quot;</span>-<span class="string">&quot; 的个数不定) 而行尾多余的空白字符显示成 &quot;</span>-<span class="string">&quot;。</span></span><br></pre></td></tr></table></figure>

<h2 id="特殊命令"><a href="#特殊命令" class="headerlink" title="特殊命令"></a>特殊命令</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 批量注释(批量替换)</span></span><br><span class="line"><span class="number">1</span>,<span class="number">10</span> s/^/<span class="comment">#/g (1-10行前面加#号)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 范围搜索</span></span><br><span class="line"><span class="comment"># 在10-20行内，搜索关键词key</span></span><br><span class="line">/\%&gt;<span class="number">10</span>l\%&lt;<span class="number">20</span>lkey</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可视范围</span></span><br><span class="line"><span class="symbol">:<span class="string">&#x27;&lt;,&#x27;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 行反转</span></span><br><span class="line"><span class="symbol">:g/^/m</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件总字数</span></span><br><span class="line">gCTRL-G</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示命令行窗口</span></span><br><span class="line"><span class="symbol">q:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看编辑过的文件</span></span><br><span class="line"><span class="symbol">:oldfiles</span></span><br><span class="line"><span class="comment"># 回到要编辑的文件</span></span><br><span class="line"><span class="symbol">:e</span> <span class="comment">#&lt;2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看编辑过的文件，输入编号编辑文件</span></span><br><span class="line"><span class="symbol">:browse</span> oldfiles</span><br></pre></td></tr></table></figure>

<h1 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h1><h2 id="全局"><a href="#全局" class="headerlink" title="全局"></a>全局</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">h</span>[elp] 关键字 - 打开关键字帮助</span><br><span class="line">:<span class="keyword">sav</span>[eas] 文件名 - 另存为</span><br><span class="line">:<span class="keyword">file</span> 文件名 - 另存为，需要write</span><br><span class="line">:<span class="keyword">clo</span>[<span class="keyword">se</span>] - 关闭当前窗口</span><br><span class="line">:ter[minal] - 打开一个<span class="keyword">shell</span>窗口</span><br><span class="line">K - 打开光标所在单词的<span class="keyword">man</span>页面</span><br></pre></td></tr></table></figure>

<h2 id="移动光标"><a href="#移动光标" class="headerlink" title="移动光标"></a>移动光标</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">h - 左移光标</span><br><span class="line">j - 下移光标</span><br><span class="line">k - 上移光标</span><br><span class="line">l - 右移光标</span><br><span class="line">gj - 下移光标(折行文本)</span><br><span class="line">gk - 下移光标(折行文本)</span><br><span class="line">H - 移动到当前页面顶部</span><br><span class="line">M - 移动到当前页面中间</span><br><span class="line">L - 移动到当前页面底部</span><br><span class="line">w - 移动到下个单词开头</span><br><span class="line">W - 移动到下个单词开头(单词含标点)</span><br><span class="line">e - 移动到下个单词结尾</span><br><span class="line">E - 移动到下个单词结尾(单词含标点)</span><br><span class="line"><span class="selector-tag">b</span> - 移动到上个单词开头</span><br><span class="line"><span class="selector-tag">B</span> - 移动到上个单词开头(单词含标点)</span><br><span class="line">ge - 移动到上个单词结尾</span><br><span class="line">gE - 移动到上个单词结尾(单词含标点)</span><br><span class="line">% - 跳转到配对的符号(默认支持的配对符号组:: <span class="string">&#x27;()&#x27;</span>, <span class="string">&#x27;&#123;&#125;&#x27;</span>, <span class="string">&#x27;[]&#x27;</span> - 在vim中使用 :h matchpairs 获得更多信息)</span><br><span class="line"><span class="number">0</span> - 移动到行首</span><br><span class="line">^ - 移动到行首的非空白符</span><br><span class="line">$ - 移动到行尾</span><br><span class="line">g_ - 移动到行内最后一个非空白符</span><br><span class="line">gg - 移动到文件第一行</span><br><span class="line">G - 移动到文件最后一行</span><br><span class="line"><span class="number">5</span>gg or <span class="number">5</span>G - 移动到第五行</span><br><span class="line">gd - 跳转到局部定义</span><br><span class="line">gD - 跳转到全局定义</span><br><span class="line">[m - 上一个变量、函数</span><br><span class="line">]m - 下一个变量、函数</span><br><span class="line">fx - 移动到字符 x 下次出现的位置</span><br><span class="line">tx - 移动到字符 x 下次出现的位置的前一个字符</span><br><span class="line">Fx - 移动到字符 x 上次出现的位置</span><br><span class="line">Tx - 移动到字符 x 上次出现的位置的后一个字符</span><br><span class="line">; - 重复之前的f、t、F、T操作</span><br><span class="line">, - 反向重复之前的f、t、F、T操作</span><br><span class="line">&#125; - 移动到下一个段落 (当编辑代码时则为函数／代码块)</span><br><span class="line">&#123; - 移动到上一个段落 (当编辑代码时则为函数／代码块)</span><br><span class="line">zz - 移动屏幕使光标居中</span><br><span class="line">Ctrl + e - 向下移动屏幕一行(保持光标不动)</span><br><span class="line">Ctrl + <span class="attribute">y</span> - 向上移动屏幕一行(保持光标不动)</span><br><span class="line">Ctrl + <span class="selector-tag">b</span> - 向上滚动一屏</span><br><span class="line">Ctrl + f - 向下滚动一屏</span><br><span class="line">Ctrl + d - 向下滚动半屏</span><br><span class="line">Ctrl + u - 向上滚动半屏</span><br></pre></td></tr></table></figure>

<h2 id="插入模式-插入-追加文本"><a href="#插入模式-插入-追加文本" class="headerlink" title="插入模式 - 插入&#x2F;追加文本"></a>插入模式 - 插入&#x2F;追加文本</h2><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">i - 从光标前开始插入字符</span><br><span class="line">I - 从行首开始插入字符</span><br><span class="line">a - 从光标后开始插入字符</span><br><span class="line">A - 从行尾开始插入字符</span><br><span class="line">o - 在当前行之下另起一行, 开始插入字符</span><br><span class="line">O - 在当前行之上另起一行, 开始插入字符</span><br><span class="line">ea - 从当前单词末尾开始插入</span><br><span class="line">Ctrl + h - 在插入模式下，删除光标前的字符</span><br><span class="line">Ctrl + w - 在插入模式下，删除光标前的单词</span><br><span class="line">Ctrl + j - 在插入模式下，另起一行</span><br><span class="line">Ctrl + t - 在插入模式下，向右缩进，宽度由 shiftwidth 控制</span><br><span class="line">Ctrl + d - 在插入模式下，向左缩进，宽度由 shiftwidth 控制</span><br><span class="line">Ctrl + n - 在插入模式下，在光标之前插入自动补全的下一个匹配项</span><br><span class="line">Ctrl + p - 在插入模式下，在光标之前插入自动补全的上一个匹配项</span><br><span class="line"><span class="built_in">CTRL</span>-X <span class="built_in">CTRL</span>-F - 在插入模式下，补全类型文本：文件名</span><br><span class="line"><span class="built_in">CTRL</span>-X <span class="built_in">CTRL</span>-L - 在插入模式下，补全类型文本：整行</span><br><span class="line"><span class="built_in">CTRL</span>-X <span class="built_in">CTRL</span>-D - 在插入模式下，补全类型文本：宏定义 (包括包含文件里的)</span><br><span class="line"><span class="built_in">CTRL</span>-X <span class="built_in">CTRL</span>-I - 在插入模式下，补全类型文本：当前文件以及所包含的文件</span><br><span class="line"><span class="built_in">CTRL</span>-X <span class="built_in">CTRL</span>-K - 在插入模式下，补全类型文本：字典文件内的单词</span><br><span class="line"><span class="built_in">CTRL</span>-X <span class="built_in">CTRL</span>-T - 在插入模式下，补全类型文本：同义词词典文件内的单词</span><br><span class="line"><span class="built_in">CTRL</span>-X <span class="built_in">CTRL</span>-] - 在插入模式下，补全类型文本：标签</span><br><span class="line"><span class="built_in">CTRL</span>-X <span class="built_in">CTRL</span>-V - 在插入模式下，补全类型文本：Vim 命令行</span><br><span class="line">Ctrl + rx - 插入寄存器 x 的内容</span><br><span class="line">Ctrl + ox - 暂时进入正常模式以发出一个正常模式命令 x。</span><br><span class="line">Ctrl + o - 暂时进入正常模式</span><br><span class="line">Esc - 退出插入模式</span><br><span class="line">Ctrl + [ - 退出插入模式</span><br></pre></td></tr></table></figure>

<h2 id="编辑文本"><a href="#编辑文本" class="headerlink" title="编辑文本"></a>编辑文本</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">r</span> - 替换当前字符</span><br><span class="line"><span class="built_in">R</span> - 在 ESC 按下之前，替换多个字符(退格键可以撤销修改)</span><br><span class="line">J - 将下一行合并到当前行, 并在两部分文本之间插入一个空格</span><br><span class="line">gJ - 将下一行合并到当前行, 两部分文本之间不含空格</span><br><span class="line">gwip - 重新调整段落</span><br><span class="line">g~ - 大小写转换操作修饰符</span><br><span class="line"><span class="built_in">gu</span> - 小写操作修饰符</span><br><span class="line"><span class="built_in">gU</span> - 大写操作修饰符</span><br><span class="line">cc - 将光标所在的行删除, 然后进入插入模式</span><br><span class="line">c<span class="variable">$</span> or C - 将光标处到行尾删除, 然后进入插入模式</span><br><span class="line">ciw - 将光标所在的单词删除, 然后进入插入模式</span><br><span class="line">cw or ce - 从光标位置开始, 修改单词</span><br><span class="line">s - 删除当前字符, 然后进入插入模式</span><br><span class="line">S - 清空当前行, 然后进入插入模式 (同cc)</span><br><span class="line">xp - 当前字符后移</span><br><span class="line">u - 撤销</span><br><span class="line">U - 撤销上一次的改动行的操作</span><br><span class="line">Ctrl + <span class="built_in">r</span> - 重做（取消撤销）</span><br><span class="line">. - 再次执行上个命令</span><br></pre></td></tr></table></figure>

<h2 id="选择文本（可视化模式）"><a href="#选择文本（可视化模式）" class="headerlink" title="选择文本（可视化模式）"></a>选择文本（可视化模式）</h2><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml">v - 进入可视化模式, 移动光标高亮选择, 然后可以对选择的文本执行命令(比 y - 复制)</span></span><br><span class="line"><span class="language-xml">V - 进入可视化模式(行粒度选择)</span></span><br><span class="line"><span class="language-xml">o - 切换光标到选择区开头/结尾</span></span><br><span class="line"><span class="language-xml">Ctrl + v - 进入可视化模式(矩阵选择)</span></span><br><span class="line"><span class="language-xml">O - 切换光标到选择区的角</span></span><br><span class="line"><span class="language-xml">aw - 选择当前单词</span></span><br><span class="line"><span class="language-xml">ab - 选择被 () 包裹的区域(含括号)</span></span><br><span class="line"><span class="language-xml">aB - 选择被 </span><span class="template-variable">&#123;&#125;</span><span class="language-xml"> 包裹的区域(含花括号)</span></span><br><span class="line"><span class="language-xml">at - 选择被 <span class="tag">&lt;&gt;</span> 标签包裹的区域(含<span class="tag">&lt;&gt;</span>标签)</span></span><br><span class="line"><span class="language-xml">ib - 选择被 () 包裹的区域(不含括号)</span></span><br><span class="line"><span class="language-xml">iB - 选择被 </span><span class="template-variable">&#123;&#125;</span><span class="language-xml"> 包裹的区域(不含花括号)</span></span><br><span class="line"><span class="language-xml">it - 选择被 <span class="tag">&lt;&gt;</span> 标签包裹的区域(不含<span class="tag">&lt;&gt;</span>标签)</span></span><br><span class="line"><span class="language-xml">gv - 再次选中之前选择的文本</span></span><br><span class="line"><span class="language-xml">Esc - 退出可视化模式</span></span><br><span class="line"><span class="language-xml"> Tip 也可以使用 ( 和 </span><span class="template-variable">&#123; 分别代替 b 和 B </span></span><br></pre></td></tr></table></figure>

<h2 id="可视化模式命令"><a href="#可视化模式命令" class="headerlink" title="可视化模式命令"></a>可视化模式命令</h2><figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span> <span class="language-javascript">- 向右缩进</span></span><br><span class="line">&lt; - 向左缩进</span><br><span class="line">y - 复制</span><br><span class="line">d - 剪切</span><br><span class="line">~ - 大小写切换</span><br><span class="line">u - 将选中文本转换为小写</span><br><span class="line">U - 将选中文本转换为大写</span><br></pre></td></tr></table></figure>

<h2 id="寄存器"><a href="#寄存器" class="headerlink" title="寄存器"></a>寄存器</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">reg</span>[isters] - 显示寄存器内容</span><br><span class="line"><span class="comment">&quot;xy - 复制内容到寄存器 x</span></span><br><span class="line"><span class="comment">&quot;xp - 粘贴寄存器 x 中的内容</span></span><br><span class="line"><span class="comment">&quot;+y - 复制内容到系统剪贴板寄存器</span></span><br><span class="line"><span class="comment">&quot;+p - 粘贴系统剪贴板寄存器的内容</span></span><br><span class="line"></span><br><span class="line">Tip 寄存器被存储在 ~/.viminfo 中, 在下次重启<span class="keyword">vim</span>时仍会加载</span><br><span class="line">Tip 特殊寄存器：</span><br><span class="line"></span><br><span class="line"> <span class="number">0</span> - 上次复制</span><br><span class="line"> <span class="comment">&quot; - 未命名寄存器，上次复制或删除</span></span><br><span class="line"> % - 当前文件名</span><br><span class="line"> # - 轮换文件名</span><br><span class="line"> * - 剪贴板内容 (X11 primary)</span><br><span class="line"> + - 剪贴板内容 (X11 clipboard)</span><br><span class="line"> / - 上次搜索的pattern</span><br><span class="line"> : - 上次执行的命令</span><br><span class="line"> . - 上次插入的文本</span><br><span class="line"> - - 上次剪切的短于一行的文本</span><br><span class="line"> = - 表达式寄存器</span><br><span class="line"> _ - 黑洞寄存器</span><br></pre></td></tr></table></figure>

<h2 id="标记"><a href="#标记" class="headerlink" title="标记"></a>标记</h2><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">:marks - 标记列表</span><br><span class="line">ma - 设置当前位置为标记 a</span><br><span class="line">`a - 跳转到标记 a 的位置</span><br><span class="line">y`a - 复制当前位置到标记 a 的内容</span><br><span class="line">`0 - 跳转到上次 Vim 退出时的位置</span><br><span class="line">`&quot; - 跳转到上次编辑该文件时的位置</span><br><span class="line">`. - 跳转到上次修改的位置</span><br><span class="line">`` - 跳转回上次跳转前的位置</span><br><span class="line">:ju[mps] - 列出跳转历史记录</span><br><span class="line">Ctrl + i - 跳转至跳转历史中较晚的位置</span><br><span class="line">Ctrl + o - 跳转回跳转历史中较早的位置</span><br><span class="line">:changes - 列出修改历史记录</span><br><span class="line"><span class="built_in">g,</span> - 跳转至修改历史中较晚修改的位置</span><br><span class="line">g<span class="comment">; - 跳转至修改历史中较早修改的位置</span></span><br><span class="line">Ctrl + ] - 跳转到当前光标位置对应的 tag</span><br><span class="line">Tip 可以使用反引号(`)或单引号(&#x27;)跳转至标记位置。使用单引号会跳转至该标记所在行行首(首个非空白字符)。</span><br></pre></td></tr></table></figure>

<h2 id="宏"><a href="#宏" class="headerlink" title="宏"></a>宏</h2><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">qa - 录制宏 <span class="keyword">a</span></span><br><span class="line">q - 停止录制宏</span><br><span class="line">@<span class="keyword">a</span> - 执行宏 <span class="keyword">a</span></span><br><span class="line">@@ - 重新执行上次执行的宏</span><br><span class="line">qA/<span class="built_in">word</span>&lt;Enter&gt;q - 对宏 <span class="keyword">a</span> 追加搜索<span class="built_in">word</span>命令</span><br></pre></td></tr></table></figure>

<h2 id="剪切-复制-粘贴"><a href="#剪切-复制-粘贴" class="headerlink" title="剪切, 复制, 粘贴"></a>剪切, 复制, 粘贴</h2><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">yy - 复制当前行</span><br><span class="line"><span class="number">2</span>yy - 复制 <span class="number">2</span> 行</span><br><span class="line">yw - 复制当前单词</span><br><span class="line">yiw - 复制光标处的单词</span><br><span class="line">yaw - 复制光标处的单词及其前后的空格</span><br><span class="line">yas - 复制光标处的所在行的段落</span><br><span class="line">y$ <span class="keyword">or </span>Y - 复制, 从光标位置到行末</span><br><span class="line">p - 在光标后粘贴</span><br><span class="line">P - 在光标前粘贴</span><br><span class="line"><span class="built_in">gp</span> - 在光标后粘贴并把光标定位于粘贴的文本之后</span><br><span class="line"><span class="built_in">gP</span> - 在光标前粘贴并把光标定位于粘贴的文本之后</span><br><span class="line">:pu - 新建一行并且粘贴</span><br><span class="line">dd - 剪切当前行</span><br><span class="line"><span class="number">2</span>dd - 剪切 <span class="number">2</span> 行</span><br><span class="line">dw - 剪切当前单词</span><br><span class="line"><span class="keyword">diw </span>- 删除光标处的单词</span><br><span class="line">daw - 删除光标处的单词及其前后的空格</span><br><span class="line">das - 删除光标处的所在行的段落</span><br><span class="line">d$ <span class="keyword">or </span>D - 剪切, 从光标位置到行末 (同 D )</span><br><span class="line">x - 剪切当前字符</span><br></pre></td></tr></table></figure>

<h2 id="文字缩进"><a href="#文字缩进" class="headerlink" title="文字缩进"></a>文字缩进</h2><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; - 将当前行向右缩进，宽度由 shiftwidth 控制</span><br><span class="line">&lt;&lt; - 将当前行向左缩进，宽度由 shiftwidth 控制</span><br><span class="line">&gt;% - 向右缩进 () 或 &#123;&#125; 内的区域 (光标需置于括号上)</span><br><span class="line">&gt;ib - 向右缩进 () 内的区域</span><br><span class="line">&gt;at - 向右缩进 &lt;&gt; 标签内的区域</span><br><span class="line"><span class="number">3</span>== - 自动缩进 <span class="number">3</span> 行</span><br><span class="line">=% - 自动缩进 () 或 &#123;&#125; 内的区域 (光标需置于括号上)</span><br><span class="line">=iB - 自动缩进 &#123;&#125; 内的区域 (光标需置于括号上)</span><br><span class="line">gg=G - 自动缩进整个缓冲区</span><br><span class="line">]p - 粘贴并调整缩进至当前行</span><br></pre></td></tr></table></figure>

<h2 id="退出"><a href="#退出" class="headerlink" title="退出"></a>退出</h2><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">:w - 保存</span><br><span class="line">:w !sudo tee % - 使用 sudo 保存当前文件</span><br><span class="line"><span class="meta">:wq or :x</span> or ZZ - 保存并退出</span><br><span class="line">:q - 退出(修改未保存时警告)</span><br><span class="line">:q! or ZQ - 不保存强制退出</span><br><span class="line">:wqa - 保存所有标签页并全部退出</span><br></pre></td></tr></table></figure>

<h2 id="查找-替换"><a href="#查找-替换" class="headerlink" title="查找&#x2F;替换"></a>查找&#x2F;替换</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">/pattern - 查找 pattern</span><br><span class="line"><span class="string">?p</span>attern - 向上查找 pattern</span><br><span class="line">\vpattern - pattern 中的非字母数字字符被视为正则表达式特殊字符 (不需转义字符)</span><br><span class="line">n - 查找下一个</span><br><span class="line">N - 查找上一个</span><br><span class="line"></span><br><span class="line">\&lt; 指定匹配单词开头</span><br><span class="line">\&gt; 指定匹配单词结尾</span><br><span class="line"><span class="symbol">:%s/old/new/g</span> - 替换全部，可用加号代替正斜杠</span><br><span class="line"><span class="symbol">:%s/old/new/gc</span> - (逐个)替换</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">这有点像 <span class="string">&quot;:substitute&quot;</span> 命令。只是它不替换文本，而是执行 &#123;command&#125; 指定的命令。</span><br><span class="line"><span class="symbol">:</span>[range]global/&#123;pattern&#125;/&#123;command&#125;</span><br><span class="line">这个命令用 <span class="string">&quot;:g&quot;</span> 开头，这是 <span class="string">&quot;:global&quot;</span> 的缩写形式，就像 <span class="string">&quot;:s&quot;</span> 是 <span class="string">&quot;:substitute&quot;</span> 的</span><br><span class="line">缩写形式一样。然后是一个匹配模式，由于模式中包括正斜杠，我们用加号作分隔符，后</span><br><span class="line">面是一个把 <span class="string">&quot;foobar&quot;</span> 替换成 <span class="string">&quot;barfoo&quot;</span> 的替换命令。</span><br><span class="line">全局命令的默认范围是整个文件，所以这个例子中没有指定范围。这一点与</span><br><span class="line"><span class="string">&quot;:substitute&quot;</span> 是不同的。后者只作用于一行。</span><br><span class="line"><span class="symbol">:g+//+s/foobar/barfoo/g</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">:noh</span>[lsearch] - 移除搜索结果的高亮显示</span><br></pre></td></tr></table></figure>

<h2 id="多文件搜索"><a href="#多文件搜索" class="headerlink" title="多文件搜索"></a>多文件搜索</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">vim</span>[<span class="keyword">grep</span>] /pattern/ &#123;`&#123;<span class="keyword">file</span>&#125;`&#125; - 在多个文件中搜索 pattern</span><br><span class="line"></span><br><span class="line"><span class="keyword">e</span>.g. :<span class="keyword">vim</span>[<span class="keyword">grep</span>] /foo/ **/*</span><br><span class="line"></span><br><span class="line">:<span class="keyword">cn</span>[ext] - 移动至下一个</span><br><span class="line">:<span class="keyword">cp</span>[revious] - 移动至上一个</span><br><span class="line">:<span class="keyword">cope</span>[n] - 打开搜索结果列表</span><br><span class="line">:<span class="keyword">ccl</span>[ose] - 关闭 quickfix 窗口</span><br></pre></td></tr></table></figure>

<h2 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h2><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">:tabnew or :tabnew</span> &#123;page.words.file&#125; - 在新标签中打开文件</span><br><span class="line">Ctrl + wT - 将窗口变成标签</span><br><span class="line">gt or :tabn[ext] - 切换到下一个标签</span><br><span class="line">gT or :tabp[revious] - 切换到上一个标签</span><br><span class="line">#gt - 切换到第 # 个标签</span><br><span class="line">:tabm[ove] # - 移动标签到第 # 位(下标从 0 开始)</span><br><span class="line">:tabc[lose] - 关闭当前标签</span><br><span class="line">:tabo[nly] - 关闭其他标签</span><br><span class="line"><span class="meta">:tabdo command - 在所有标签中执行命令 (例如 :tabdo</span> q 关闭所有标签)</span><br></pre></td></tr></table></figure>

<h2 id="多文件编辑"><a href="#多文件编辑" class="headerlink" title="多文件编辑"></a>多文件编辑</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">e</span>[dit] 文件名 - 新建缓冲区打开 filename</span><br><span class="line">:<span class="keyword">bn</span>[ext] - 切换到下个缓冲区</span><br><span class="line">:<span class="keyword">bp</span>[revious] - 切换到上个缓冲区</span><br><span class="line">:<span class="keyword">bd</span>[elete] - 关闭缓冲区</span><br><span class="line">:<span class="keyword">b</span>[uffer]# - 切换到第 # 个缓冲区</span><br><span class="line">:<span class="keyword">b</span>[uffer] <span class="keyword">file</span> - 用文件名切换缓冲区</span><br><span class="line">:<span class="keyword">ls</span> <span class="built_in">or</span> :<span class="keyword">buffers</span> - 列出所有打开的缓冲区</span><br><span class="line">:<span class="keyword">sp</span>[lit] 文件名 - 新建缓冲区打开 filename 并水平分割窗口</span><br><span class="line">:<span class="keyword">vs</span>[plit] 文件名 - 新缓冲区打开 filename 并垂直分割窗口</span><br><span class="line">:<span class="keyword">vert</span>[ical] <span class="keyword">ba</span>[<span class="keyword">ll</span>] - 垂直分割窗口编辑所有缓冲区</span><br><span class="line">:<span class="keyword">tab</span> <span class="keyword">ba</span>[<span class="keyword">ll</span>] - 标签页编辑所有缓冲区</span><br><span class="line">Ctrl + <span class="keyword">ws</span> - 水平分割窗口</span><br><span class="line">Ctrl + <span class="keyword">wv</span> - 垂直分割窗口</span><br><span class="line">Ctrl + ww - 在窗口间切换</span><br><span class="line">Ctrl + <span class="keyword">wq</span> - 关闭窗口</span><br><span class="line">Ctrl + wx - 当前窗口与下一个窗口交换位置</span><br><span class="line">Ctrl + <span class="keyword">w</span>= - 令所有窗口高 &amp; 宽一致</span><br><span class="line">Ctrl + <span class="keyword">wh</span> - 切换到左侧窗口</span><br><span class="line">Ctrl + wl - 切换到右侧窗口</span><br><span class="line">Ctrl + wj - 切换到下侧窗口</span><br><span class="line">Ctrl + wk - 切换到上侧窗口</span><br><span class="line">Ctrl + wH - 使游标所在视窗全高并移至最左 (最左垂直视窗)</span><br><span class="line">Ctrl + wL - 使游标所在视窗全高并移至最右 (最右垂直视窗)</span><br><span class="line">Ctrl + wJ - 使游标所在视窗全宽并移至最下 (最下水平视窗)</span><br><span class="line">Ctrl + wK - 使游标所在视窗全宽并移至最上 (最上水平视窗)</span><br><span class="line"></span><br><span class="line">:<span class="keyword">args</span> - 查看<span class="keyword">vim</span>打开的整个文件列表</span><br><span class="line">:<span class="keyword">prev</span> - 上一个文件</span><br><span class="line">:<span class="keyword">next</span> - 下一个文件</span><br><span class="line">:<span class="keyword">last</span> - 最后一个文件</span><br></pre></td></tr></table></figure>

<h2 id="Diff"><a href="#Diff" class="headerlink" title="Diff"></a>Diff</h2><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">zf - 定义折叠修饰符</span><br><span class="line">zd - 删除光标位置的折叠</span><br><span class="line">za - 展开 &amp; 关闭光标位置的折叠</span><br><span class="line">zo - 展开光标位置的折叠</span><br><span class="line">zc - 关闭光标位置的折叠</span><br><span class="line">zr - 展开同级的所有折叠</span><br><span class="line">zm - 关闭同级的所有折叠</span><br><span class="line">zi - 开启 &amp; 关闭折叠功能</span><br><span class="line">]c - 光标移至下一处差异</span><br><span class="line">[c - 光标移至上一处差异</span><br><span class="line">do <span class="keyword">or </span>:<span class="keyword">diffg[et] </span>- 将另一缓冲区中的差异合并至当前缓冲区</span><br><span class="line">dp <span class="keyword">or </span>:<span class="keyword">diffpu[t] </span>- 将当前缓冲区中的差异推送至另一缓冲区</span><br><span class="line">:<span class="keyword">diffthis </span>- 令当前窗口成为 <span class="keyword">diff </span>模式的窗口之一</span><br><span class="line">:<span class="keyword">dif[fupdate] </span>- 强制刷新 <span class="keyword">diff </span>的高亮与折叠</span><br><span class="line">:<span class="keyword">diffo[ff] </span>- 令当前窗口退出 <span class="keyword">diff </span>模式</span><br><span class="line">:<span class="keyword">diffsplit </span>文件名 - 水平方式打开<span class="keyword">diff窗口</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line">Tip 折叠命令(e.g. za)只作用于当前级别。使用大写字母(e.g. zA)令命令作用于全部级别。</span><br><span class="line">Tip 可以直接在终端运行 vimdiff 查看文件间的不同。也可以将该程序设为 git <span class="keyword">difftool </span>的选项之一。</span><br></pre></td></tr></table></figure>

<h2 id="读写文件"><a href="#读写文件" class="headerlink" title="读写文件"></a>读写文件</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">:<span class="attribute">r</span>[ead] 文件名 - 将文件内容写入到当前行</span><br><span class="line">:<span class="number">0</span>r<span class="selector-attr">[ead]</span> 文件名 - 将文件内容写入到<span class="number">0</span>行</span><br><span class="line">:<span class="attribute">r</span>! sed -n <span class="string">&#x27;1,10p&#x27;</span> 文件名 - 将文件名指定范围内容写入到当前行，通过结合!command 实现</span><br><span class="line"></span><br><span class="line">:.,<span class="variable">$w</span><span class="selector-attr">[rite]</span> 文件名 - 将指定范围内容写入到文件，文件已存在需要使用!write，进行覆盖全文件</span><br><span class="line">:<span class="selector-class">.w</span> &gt;&gt; 文件名 - 将当前位置内容写入文件，.代表当前行，&gt;&gt;代表追加</span><br></pre></td></tr></table></figure>

<h2 id="使用外部程序"><a href="#使用外部程序" class="headerlink" title="使用外部程序"></a>使用外部程序</h2><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml">!</span><span class="template-variable">&#123;motion&#125;</span><span class="template-variable">&#123;program&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">用一个外部程序对一个文本块进行过滤，执行一个由 </span><span class="template-variable">&#123;program&#125;</span><span class="language-xml"> 指定的外部命令，然后用该程序的输出</span></span><br><span class="line"><span class="language-xml">替代选中的文本块。</span></span><br><span class="line"><span class="language-xml">!5Gsort<span class="tag">&lt;<span class="name">Enter</span>&gt;</span> - 当前行到5行，进行排序</span></span><br><span class="line"><span class="language-xml">!!date<span class="tag">&lt;<span class="name">Enter</span>&gt;</span> - 将当前行替换为date的结果</span></span><br></pre></td></tr></table></figure>

<h2 id="文件浏览器"><a href="#文件浏览器" class="headerlink" title="文件浏览器"></a><a target="_blank" rel="noopener" href="https://yianwillis.github.io/vimcdoc/doc/usr_22.html#usr_22.txt">文件浏览器</a></h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:<span class="built_in">edit</span> .</span><br><span class="line">:hide <span class="built_in">edit</span> 文件名 - 隐藏当前文件，打开文件名文件</span><br></pre></td></tr></table></figure>
      </div>
      
        <div class="prev-or-next">
          <div class="post-foot-next">
            
              <a href="/posts/fe6f45bf.html" target="_self">
                <i class="iconfont icon-chevronleft"></i>
                <span>上一页</span>
              </a>
            
          </div>
          <div class="post-attach">
            <span class="post-pubtime">
              <i class="iconfont icon-updatetime" title="更新时间"></i>
              2017-11-07 01:56:27
            </span>
            
                  <span class="post-categories">
                    <i class="iconfont icon-bookmark" title="分类"></i>
                    
                    <span class="span--category">
                      <a href="/categories/%E5%90%8E%E7%AB%AF/" title="后端">
                        <b>#</b> 后端
                      </a>
                    </span>
                    
                    <span class="span--category">
                      <a href="/categories/%E5%90%8E%E7%AB%AF/linux/" title="linux">
                        <b>#</b> linux
                      </a>
                    </span>
                    
                    <span class="span--category">
                      <a href="/categories/%E5%90%8E%E7%AB%AF/linux/vim/" title="vim">
                        <b>#</b> vim
                      </a>
                    </span>
                    
                  </span>
              
          </div>
          <div class="post-foot-prev">
            
              <a href="/posts/fe4ef317.html" target="_self">
                <span>下一页</span>
                <i class="iconfont icon-chevronright"></i>
              </a>
            
          </div>
        </div>
      
    </div>
    
  <div id="btn-catalog" class="btn-catalog">
    <i class="iconfont icon-catalog"></i>
  </div>
  <div class="post-catalog hidden" id="catalog">
    <div class="title">目录</div>
    <div class="catalog-content">
      
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#set%E5%91%BD%E4%BB%A4"><span class="toc-text">set命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E5%91%BD%E4%BB%A4"><span class="toc-text">特殊命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4"><span class="toc-text">命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80"><span class="toc-text">全局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E5%85%89%E6%A0%87"><span class="toc-text">移动光标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%A8%A1%E5%BC%8F-%E6%8F%92%E5%85%A5-%E8%BF%BD%E5%8A%A0%E6%96%87%E6%9C%AC"><span class="toc-text">插入模式 - 插入&#x2F;追加文本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E8%BE%91%E6%96%87%E6%9C%AC"><span class="toc-text">编辑文本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%96%87%E6%9C%AC%EF%BC%88%E5%8F%AF%E8%A7%86%E5%8C%96%E6%A8%A1%E5%BC%8F%EF%BC%89"><span class="toc-text">选择文本（可视化模式）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E8%A7%86%E5%8C%96%E6%A8%A1%E5%BC%8F%E5%91%BD%E4%BB%A4"><span class="toc-text">可视化模式命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-text">寄存器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E8%AE%B0"><span class="toc-text">标记</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8F"><span class="toc-text">宏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%AA%E5%88%87-%E5%A4%8D%E5%88%B6-%E7%B2%98%E8%B4%B4"><span class="toc-text">剪切, 复制, 粘贴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E5%AD%97%E7%BC%A9%E8%BF%9B"><span class="toc-text">文字缩进</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%80%E5%87%BA"><span class="toc-text">退出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE-%E6%9B%BF%E6%8D%A2"><span class="toc-text">查找&#x2F;替换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%96%87%E4%BB%B6%E6%90%9C%E7%B4%A2"><span class="toc-text">多文件搜索</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE"><span class="toc-text">标签</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91"><span class="toc-text">多文件编辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Diff"><span class="toc-text">Diff</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6"><span class="toc-text">读写文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%A4%96%E9%83%A8%E7%A8%8B%E5%BA%8F"><span class="toc-text">使用外部程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="toc-text">文件浏览器</span></a></li></ol></li></ol>
      
    </div>
  </div>

  
<script src="/js/catalog.js"></script>




    
  </div>


        
<div class="footer">
  <div class="social">
    <ul>
      
        <li>
          <a title="github" target="_blank" rel="noopener" href="https://github.com/thiscat/">
            <i class="iconfont icon-github"></i>
          </a>
        </li>
      
        <li>
          <a title="gitee" target="_blank" rel="noopener" href="https://gitee.com/thiscat/">
            <i class="iconfont icon-github"></i>
          </a>
        </li>
      
    </ul>
  </div>
  
    
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">Theme by Oranges | Powered by Hexo</a>
        
    </div>
  
</div>

      </div>

      <div class="tools-bar">
        <div class="back-to-top tools-bar-item hidden">
  <a href="javascript: void(0)">
    <i class="iconfont icon-chevronup"></i>
  </a>
</div>


<script src="/js/backtotop.js"></script>



        
  <div class="search-icon tools-bar-item" id="search-icon">
    <a href="javascript: void(0)">
      <i class="iconfont icon-search"></i>
    </a>
  </div>

  <div class="search-overlay hidden">
    <div class="search-content" tabindex="0">
      <div class="search-title">
        <span class="search-icon-input">
          <a href="javascript: void(0)">
            <i class="iconfont icon-search"></i>
          </a>
        </span>
        
          <input type="text" class="search-input" id="search-input" placeholder="搜索...">
        
        <span class="search-close-icon" id="search-close-icon">
          <a href="javascript: void(0)">
            <i class="iconfont icon-close"></i>
          </a>
        </span>
      </div>
      <div class="search-result" id="search-result"></div>
    </div>
  </div>

  <script type="text/javascript">
    var inputArea = document.querySelector("#search-input")
    var searchOverlayArea = document.querySelector(".search-overlay")

    inputArea.onclick = function() {
      getSearchFile()
      this.onclick = null
    }

    inputArea.onkeydown = function() {
      if(event.keyCode == 13)
        return false
    }

    function openOrHideSearchContent() {
      let isHidden = searchOverlayArea.classList.contains('hidden')
      if (isHidden) {
        searchOverlayArea.classList.remove('hidden')
        document.body.classList.add('hidden')
        // inputArea.focus()
      } else {
        searchOverlayArea.classList.add('hidden')
        document.body.classList.remove('hidden')
      }
    }

    function blurSearchContent(e) {
      if (e.target === searchOverlayArea) {
        openOrHideSearchContent()
      }
    }

    document.querySelector("#search-icon").addEventListener("click", openOrHideSearchContent, false)
    document.querySelector("#search-close-icon").addEventListener("click", openOrHideSearchContent, false)
    searchOverlayArea.addEventListener("click", blurSearchContent, false)

    var searchFunc = function (path, search_id, content_id) {
      'use strict';
      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      $resultContent.innerHTML = "<ul><span class='local-search-empty'>首次搜索，正在载入索引文件，请稍后……<span></ul>";
      $.ajax({
        // 0x01. load xml file
        url: path,
        dataType: "xml",
        success: function (xmlResponse) {
          // 0x02. parse xml file
          var datas = $("entry", xmlResponse).map(function () {
            return {
              title: $("title", this).text(),
              content: $("content", this).text(),
              url: $("url", this).text()
            };
          }).get();
          $resultContent.innerHTML = "";

          $input.addEventListener('input', function () {
            // 0x03. parse query to keywords list
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // 0x04. perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var content_index = [];
              if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
              }
              var orig_data_title = data.title.trim();
              var data_title = orig_data_title.toLowerCase();
              var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
              var data_content = orig_data_content.toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var index_content = -1;
              var first_occur = -1;
              // only match artiles with not empty contents
              if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  index_content = data_content.indexOf(keyword);

                  if (index_title < 0 && index_content < 0) {
                    isMatch = false;
                  } else {
                    if (index_content < 0) {
                      index_content = 0;
                    }
                    if (i == 0) {
                      first_occur = index_content;
                    }
                    // content_index.push({index_content:index_content, keyword_len:keyword_len});
                  }
                });
              } else {
                isMatch = false;
              }
              // 0x05. show search results
              if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'>" + orig_data_title + "</a>";
                var content = orig_data_content;
                if (first_occur >= 0) {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  var match_content = content.substr(start, end);

                  // highlight all keywords
                  keywords.forEach(function (keyword) {
                    var regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
                  });

                  str += "<p class=\"search-result-abstract\">" + match_content + "...</p>"
                }
                str += "</li>";
              }
            });
            str += "</ul>";
            if (str.indexOf('<li>') === -1) {
              return $resultContent.innerHTML = "<ul><span class='local-search-empty'>没有找到内容，请尝试更换检索词。<span></ul>";
            }
            $resultContent.innerHTML = str;
          });
        },
        error: function(xhr, status, error) {
          $resultContent.innerHTML = ""
          if (xhr.status === 404) {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>未找到search.xml文件，具体请参考：<a href='https://github.com/zchengsite/hexo-theme-oranges#configuration' target='_black'>configuration</a><span></ul>";
          } else {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>请求失败，尝试重新刷新页面或稍后重试。<span></ul>";
          }
        }
      });
      $(document).on('click', '#search-close-icon', function() {
        $('#search-input').val('');
        $('#search-result').html('');
      });
    }

    var getSearchFile = function() {
        var path = "/search.xml";
        searchFunc(path, 'search-input', 'search-result');
    }
  </script>




        
  <div class="tools-bar-item theme-icon" id="switch-color-scheme">
    <a href="javascript: void(0)">
      <i id="theme-icon" class="iconfont icon-moon"></i>
    </a>
  </div>

  
<script src="/js/colorscheme.js"></script>





        
  
    <div class="share-icon tools-bar-item">
      <a href="javascript: void(0)" id="share-icon">
        <i class="iconfont iconshare"></i>
      </a>
      <div class="share-content hidden">
        
          <a class="share-item" href="https://twitter.com/intent/tweet?text=' + vim%E8%AE%B0%E5%BD%95 + '&url=' + http%3A%2F%2Fyoursite.com%2Fposts%2F280100fb.html + '" target="_blank" title="Twitter">
            <i class="iconfont icon-twitter"></i>
          </a>
        
        
          <a class="share-item" href="https://www.facebook.com/sharer.php?u=http://yoursite.com/posts/280100fb.html" target="_blank" title="Facebook">
            <i class="iconfont icon-facebooksquare"></i>
          </a>
        
      </div>
    </div>
  
  
<script src="/js/shares.js"></script>



      </div>
    </div>
  </body>
</html>
